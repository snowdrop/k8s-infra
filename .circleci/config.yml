version: 2.1

jobs:
  build:
    docker:
      - image: circleci/golang:latest

    environment:
      ANSIBLE_BIN_DIR=/home/circleci/.local/bin

    steps:
      - checkout

      - run:
          name: Install Ansible using pip3
          command: |
            sudo apt install -yqq python3-pip tree
            pip3 install ansible -vv

      - run:
          name: Create Ansible Playbook
          command: |
            $ANSIBLE_BIN_DIR/ansible-playbook sandbox/helloworld.yml

